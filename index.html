<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuestra Historia - Patri & Juanjo</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700;900&family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        :root {
            --accent: #ff4d6d;
            --glass: rgba(255, 255, 255, 0.1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Montserrat', sans-serif;
            background: #000;
            color: #fff;
            overflow-x: hidden;
        }

        /* --- Scroll Snapping --- */
        .scroll-container {
            height: 100vh;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
            scrollbar-width: none;
        }
        .scroll-container::-webkit-scrollbar { display: none; }

        section {
            height: 100vh;
            width: 100vw;
            scroll-snap-align: start;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            padding: 20px;
            text-align: center;
            overflow: hidden;
            transition: background 1s ease;
        }

        /* --- FONDOS DEGRADADOS (M√°s variados) --- */
        .bg-1 { background: linear-gradient(180deg, #1a050b, #5c0a1e); } /* Intro */
        .bg-2 { background: linear-gradient(180deg, #5c0a1e, #8f122e); } /* Stats */
        .bg-3 { background: linear-gradient(180deg, #8f122e, #b31636); } /* Words */
        .bg-4 { background: linear-gradient(180deg, #b31636, #d91c42); } /* Years */
        .bg-5 { background: linear-gradient(180deg, #d91c42, #7a0e24); } /* Quotes */
        .bg-6 { background: linear-gradient(180deg, #7a0e24, #4a0513); } /* Night */
        .bg-7 { background: linear-gradient(180deg, #4a0513, #2e020a); } /* Battle */
        
        /* TRANSICI√ìN A LINKIN PARK (Azules/Noche) */
        .bg-lp-1 { background: linear-gradient(180deg, #2e020a, #0f172a); }
        .bg-lp-2 { background: linear-gradient(180deg, #0f172a, #1e293b); }
        .bg-lp-3 { background: linear-gradient(180deg, #1e293b, #0f172a); }
        .bg-final { background: #000; }

        /* --- TEXTOS --- */
        h1 { font-size: 2.5rem; font-weight: 900; text-transform: uppercase; margin-bottom: 15px; line-height: 1.1; letter-spacing: -1px; }
        h2 { font-family: 'Great Vibes', cursive; font-size: 3rem; color: var(--accent); margin: 10px 0; text-shadow: 0 2px 10px rgba(0,0,0,0.5); }
        p { font-size: 1.1rem; opacity: 0.9; margin: 8px 0; line-height: 1.6; font-weight: 300; }
        
        .big-number { 
            font-size: 4rem; font-weight: 900; display: block; 
            margin: 10px 0; color: #fff;
            text-shadow: 0 4px 20px rgba(255, 77, 109, 0.5);
        }

        /* --- ELEMENTOS VISUALES --- */
        .stat-card { background: var(--glass); padding: 20px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.15); width: 90%; max-width: 400px; margin: 10px 0; }
        
        /* Nube de Palabras */
        .word-cloud { display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; max-width: 90%; margin: 20px 0; }
        .tag { padding: 8px 15px; border-radius: 20px; font-weight: bold; font-size: 1.2rem; background: rgba(255,255,255,0.2); animation: float 4s infinite ease-in-out; }
        .tag:nth-child(odd) { background: var(--accent); color: white; animation-duration: 5s; }

        /* L√≠nea de Tiempo / A√±os */
        .timeline-item { display: flex; justify-content: space-between; width: 100%; max-width: 300px; border-bottom: 1px solid rgba(255,255,255,0.3); padding: 10px 0; margin: 5px 0; }
        .year { font-weight: 900; font-size: 1.5rem; }

        /* Barras de Progreso */
        .bar-wrap { width: 100%; max-width: 350px; margin: 15px 0; }
        .progress { height: 10px; background: rgba(255,255,255,0.2); border-radius: 5px; overflow: hidden; margin-top: 5px; }
        .fill { height: 100%; width: 0; transition: width 2s ease-out; }

        /* Foto Final */
        .final-img { width: 80vw; max-width: 320px; aspect-ratio: 1/1; object-fit: cover; border-radius: 20px; box-shadow: 0 0 30px rgba(255, 77, 109, 0.3); border: 4px solid white; margin-bottom: 20px; }

        /* Animaciones */
        .content { opacity: 0; transform: translateY(40px); transition: all 0.9s cubic-bezier(0.2, 0.8, 0.2, 1); }
        section.active .content { opacity: 1; transform: translateY(0); }
        
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

        /* Estrellas */
        .stars { position: absolute; width: 100%; height: 100%; top: 0; left: 0; pointer-events: none; opacity: 0; transition: opacity 2s; }
        .slide-stars.active .stars { opacity: 1; }
        .star { position: absolute; background: white; border-radius: 50%; animation: twinkle 3s infinite; }
        @keyframes twinkle { 0%, 100% { opacity: 0.8; } 50% { opacity: 0.2; } }

        /* Bot√≥n M√∫sica */
        .music-btn { position: fixed; top: 20px; right: 20px; z-index: 100; background: rgba(255, 77, 109, 0.9); border: none; color: white; padding: 10px 20px; border-radius: 30px; font-weight: 700; cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.3); }
    </style>
</head>
<body>

    <button class="music-btn" onclick="togglePlay()">üéµ PLAY M√öSICA</button>
    <div id="player"></div>

    <div class="scroll-container">
        
        <section class="bg-1 active">
            <div class="content">
                <p>Tu Resumen 2023 - 2026</p>
                <h1>Nuestra<br>Historia</h1>
                <p>Todo empez√≥ el 18 de Junio de 2023.</p>
                <div style="margin-top: 40px; font-size: 2rem; animation: float 2s infinite;">üëá</div>
            </div>
        </section>

        <section class="bg-2">
            <div class="content">
                <h1>Magnitud</h1>
                <div class="stat-card">
                    <span class="big-number counter" data-target="55188">0</span>
                    <p>Mensajes totales</p>
                </div>
                <div class="stat-card">
                    <span class="big-number counter" data-target="568830">0</span>
                    <p>Palabras escritas</p>
                </div>
                <p style="font-size: 0.9rem; margin-top: 20px;">Cada palabra ha merecido la pena.</p>
            </div>
        </section>

        <section class="bg-3">
            <div class="content">
                <h1>Nuestro Mundo</h1>
                <p>Palabras que definen nuestra historia:</p>
                <div class="word-cloud">
                    <span class="tag">Gij√≥n üåä</span>
                    <span class="tag">Monta√±a ‚õ∞Ô∏è</span>
                    <span class="tag">Risas üòÇ</span>
                    <span class="tag">Vinito üç∑</span>
                    <span class="tag">Patri ‚ù§Ô∏è</span>
                    <span class="tag">Solete ‚òÄÔ∏è</span>
                </div>
                <p style="margin-top: 20px;">Y miles de "Jajajaja"</p>
            </div>
        </section>

        <section class="bg-4">
            <div class="content">
                <h1>La Evoluci√≥n</h1>
                <p>C√≥mo hemos crecido:</p>
                
                <div class="stat-card" style="text-align: left;">
                    <div class="timeline-item">
                        <span class="year">2023</span>
                        <span>La Revoluci√≥n üí•</span>
                    </div>
                    <div class="timeline-item">
                        <span class="year">2024</span>
                        <span>La Consolidaci√≥n üè†</span>
                    </div>
                    <div class="timeline-item" style="border: none;">
                        <span class="year">2025</span>
                        <span>El Futuro üöÄ</span>
                    </div>
                </div>
                
                <div class="stat-card">
                    <h2>9 de Julio 2023</h2>
                    <p>D√≠a r√©cord: <strong>1.931 mensajes</strong></p>
                </div>
            </div>
        </section>

        <section class="bg-5">
            <div class="content">
                <h1>El Origen</h1>
                <p>Nunca olvidar√© c√≥mo empez√≥ todo:</p>
                <div style="font-style: italic; background: rgba(0,0,0,0.3); padding: 20px; border-radius: 15px; margin: 20px 0;">
                    "Soy Juanjo... por lo visto somos gente de bien y majos que deber√≠amos conocernos."
                </div>
                <p>√örsula ten√≠a toda la raz√≥n.</p>
            </div>
        </section>

        <section class="bg-6">
            <div class="content">
                <h1>23:00 h</h1>
                <p>Nuestra hora m√°gica.</p>
                <div style="font-size: 5rem;">üåô</div>
                <p><strong>7.507 mensajes</strong></p>
                <p>cuando el mundo dorm√≠a.</p>
            </div>
        </section>

        <section class="bg-7">
            <div class="content">
                <h1>Patri vs JJ</h1>
                
                <div class="bar-wrap">
                    <div style="display:flex; justify-content:space-between;"><span>Patri ‚ù§Ô∏è</span> <span>29.556</span></div>
                    <div class="progress"><div class="fill" style="width: 53%; background: #ff4d6d;"></div></div>
                </div>
                
                <div class="bar-wrap">
                    <div style="display:flex; justify-content:space-between;"><span>JJ</span> <span>25.631</span></div>
                    <div class="progress"><div class="fill" style="width: 47%; background: #fff;"></div></div>
                </div>

                <div style="margin-top: 40px;">
                    <p>Emoji Oficial:</p>
                    <span style="font-size: 3rem;">üòò</span>
                    <p>(12.147 veces)</p>
                </div>
            </div>
        </section>

        <section class="bg-lp-1 slide-stars">
            <div class="stars"></div>
            <div class="content">
                <p>Pero entre tantos datos y fechas...</p>
                <h1 style="margin-top: 20px;">Hay algo que<br>nunca cambia.</h1>
            </div>
        </section>

        <section class="bg-lp-2 slide-stars">
            <div class="stars"></div>
            <div class="content">
                <p style="font-family: 'Great Vibes'; font-size: 2.2rem; color: #a2d2ff;">"In the sky of a million stars..."</p>
                <div style="margin-top: 50px;"></div>
                <p style="font-family: 'Great Vibes'; font-size: 2.2rem; color: #a2d2ff;">"It flickers, flickers..."</p>
            </div>
        </section>

        <section class="bg-lp-3 slide-stars">
            <div class="stars"></div>
            <div class="content">
                <h1 style="font-size: 2.5rem; text-transform: none; line-height: 1.4;">Who cares if one more light goes out?</h1>
                <p style="opacity: 0.6; margin-top: 20px;">Linkin Park</p>
            </div>
        </section>

        <section class="bg-lp-3 slide-stars">
            <div class="stars"></div>
            <div class="content">
                <h1 style="font-size: 3.5rem; color: var(--accent);">Well, I do.</h1>
                <p style="max-width: 450px; margin-top: 30px; font-size: 1.2rem;">
                    Me da igual lo que digan los n√∫meros. Lo √∫nico que me importa es cuidar de tu luz.
                </p>
                <p style="font-weight: bold; margin-top: 15px;">Siempre.</p>
            </div>
        </section>

        <section class="bg-final">
            <div class="content">
                <img src="foto.jpg" alt="Nosotros" class="final-img">
                <p style="font-style: italic;">"Si cada mensaje fuera un latido, esto ser√≠a un coraz√≥n imposible de parar."</p>
                <h2 style="margin-top: 30px;">Te Quiero ‚ù§Ô∏è</h2>
                <h1 style="font-size: 1.5rem;">Seguir√≠a eligi√©ndote.</h1>
            </div>
        </section>

    </div>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        // 1. ESTRELLAS
        function createStars() {
            const containers = document.querySelectorAll('.stars');
            containers.forEach(cont => {
                for(let i=0; i<60; i++) {
                    const s = document.createElement('div');
                    s.className = 'star';
                    s.style.left = Math.random()*100 + '%';
                    s.style.top = Math.random()*100 + '%';
                    s.style.width = Math.random()*3 + 'px';
                    s.style.height = s.style.width;
                    s.style.animationDelay = Math.random()*2 + 's';
                    cont.appendChild(s);
                }
            });
        }
        createStars();

        // 2. M√öSICA
        let player;
        let isPlaying = false;
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '0', width: '0', videoId: 'Tm8LGxTLtQk', // One More Light
                playerVars: { 'playlist': 'Tm8LGxTLtQk', 'loop': 1 }
            });
        }
        function togglePlay() {
            const btn = document.querySelector('.music-btn');
            if(!isPlaying) {
                player.playVideo(); isPlaying = true; btn.innerText = "‚è∏ PAUSAR";
            } else {
                player.pauseVideo(); isPlaying = false; btn.innerText = "üéµ PLAY M√öSICA";
            }
        }

        // 3. ANIMACIONES
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if(entry.isIntersecting) {
                    entry.target.classList.add('active');
                    
                    // Contadores
                    entry.target.querySelectorAll('.counter').forEach(c => {
                        const target = +c.getAttribute('data-target');
                        animateValue(c, 0, target, 2000);
                        c.classList.remove('counter');
                    });

                    // Barras
                    entry.target.querySelectorAll('.fill').forEach(f => f.style.width = f.style.width);
                } else {
                    entry.target.classList.remove('active');
                }
            });
        }, { threshold: 0.3 });

        document.querySelectorAll('section').forEach(s => observer.observe(s));

        function animateValue(obj, start, end, duration) {
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                obj.innerHTML = Math.floor(progress * (end - start) + start).toLocaleString('es-ES');
                if (progress < 1) window.requestAnimationFrame(step);
            };
            window.requestAnimationFrame(step);
        }
    </script>
</body>
</html>
