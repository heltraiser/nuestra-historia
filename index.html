<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nuestra Historia ‚ù§Ô∏è</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Pacifico&display=swap" rel="stylesheet">
<style>
/* Reset y body */
body {
  margin: 0;
  background: #0b0b12;
  color: white;
  font-family: 'Playfair Display', serif;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  text-align: center;
  overflow: hidden;
  position: relative;
}

/* Slides */
.screen {
  display: none;
  padding: 40px;
  max-width: 420px;
  animation: fade 1.2s ease forwards;
}
.active { display: block; }

h1 { font-weight: 400; font-size: 1.8em; }
.big { font-size: 2.8em; margin: 20px 0; }
.soft { opacity: 0.7; }

@keyframes fade {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Corazones */
.heart {
  position: absolute;
  color: #ff4d6d;
  font-size: 18px;
  animation: float 6s linear infinite;
}

@keyframes float {
  from { transform: translateY(100vh); opacity: 1; }
  to { transform: translateY(-10vh); opacity: 0; }
}

/* Fotos y nombres finales */
.photo {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: url('foto.jpg') center/cover no-repeat;
  opacity: 0;
  transition: opacity 2s ease;
}

.photo.visible { opacity: 1; }

.name {
  position: fixed;
  top: 40%;
  width: 100%;
  text-align: center;
  font-size: 3em;
  letter-spacing: 4px;
  opacity: 0;
  transform: scale(0.8);
  transition: all 2s ease;
  text-shadow: 0 0 20px rgba(0,0,0,0.9);
  font-family: 'Pacifico', cursive;
}

.name.visible {
  opacity: 1;
  transform: scale(1);
}

.overlay-text {
  position: fixed;
  bottom: 15%;
  left: 50%;
  transform: translateX(-50%);
  text-align: center;
  max-width: 85%;
  font-size: 1.4em;
  text-shadow: 0 0 15px rgba(0,0,0,0.8);
  opacity: 0;
  transition: opacity 2s ease;
}

.overlay-text.visible { opacity: 1; }

/* Spotify Embed estilo tarjeta */
.spotify {
  position: fixed;
  bottom: 5%;
  left: 50%;
  transform: translateX(-50%);
  border-radius: 12px;
  overflow: hidden;
  width: 300px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}

/* Responsive */
@media(max-width: 500px){
  h1 { font-size: 1.6em; }
  .big { font-size: 2.2em; }
  .overlay-text { font-size: 1.2em; }
  .spotify { width: 90%; }
}
</style>
</head>

<body onclick="nextScreen()">

<!-- Slides -->
<div id="s0" class="screen active">
  <h1>Hay momentos que empiezan<br>sin que lo sepas‚Ä¶</h1>
  <p class="soft">(Toca la pantalla)</p>
</div>

<div id="s1" class="screen">
  <h1>Llevamos</h1>
  <div class="big" id="days">0</div>
  <p class="soft">d√≠as hablando</p>
</div>

<div id="s2" class="screen">
  <div class="big">55.188</div>
  <h1>mensajes</h1>
  <p class="soft">Nunca me cans√© de escribirte</p>
</div>

<div id="s3" class="screen">
  <div class="big">üòò 12.147</div>
  <h1>besos enviados</h1>
</div>

<!-- Elementos finales -->
<div class="photo" id="photo"></div>
<div class="name" id="nameText">Patri</div>
<div class="overlay-text" id="finalText">
  Porque lo que siento no cabe en estad√≠sticas.<br><br>
  Te elegir√≠a en cada vida.<br><br>
  <strong>Feliz San Valent√≠n ‚ù§Ô∏è</strong>
</div>

<!-- Spotify Embed -->
<div class="spotify">
  <iframe src="https://open.spotify.com/embed/track/3n3Ppam7vgaVa1iaRUc9Lp" width="100%" height="80" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
</div>

<!-- M√∫sica de fondo -->
<audio autoplay loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
</audio>

<script>
let current = 0;
const total = 4;

function nextScreen() {
  if (current < total - 1) {
    document.getElementById("s" + current).classList.remove("active");
    current++;
    document.getElementById("s" + current).classList.add("active");

    if (current === 1) animateDays();
    if (current === 3) hearts();
  } else if (current === total - 1) {
    document.getElementById("s" + current).classList.remove("active");
    showFinal();
  }
}

function animateDays() {
  const start = new Date("2023-06-18");
  const today = new Date();
  const diff = Math.floor((today - start) / (1000 * 60 * 60 * 24));
  let count = 0;
  const el = document.getElementById("days");

  const interval = setInterval(() => {
    count++;
    el.textContent = count;
    if (count >= diff) clearInterval(interval);
  }, 15);
}

function hearts() {
  for (let i = 0; i < 35; i++) {
    const heart = document.createElement("div");
    heart.classList.add("heart");
    heart.textContent = "‚ù§";
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.animationDuration = (4 + Math.random() * 4) + "s";
    document.body.appendChild(heart);
  }
}

function showFinal() {
  const photo = document.getElementById("photo");
  const name = document.getElementById("nameText");
  const text = document.getElementById("finalText");

  photo.classList.add("visible");

  if (navigator.vibrate) {
    navigator.vibrate([100, 50, 100]);
  }

  setTimeout(() => { name.classList.add("visible"); }, 1200);
  setTimeout(() => { text.classList.add("visible"); }, 3000);
}
</script>

</body>
</html>
